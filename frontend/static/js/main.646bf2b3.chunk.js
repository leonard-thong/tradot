(this.webpackJsonptradot=this.webpackJsonptradot||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/tea.ed893853.png"},101:function(e,t,a){e.exports=a.p+"static/media/sweets.169bb601.png"},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),i=a.n(s),c=(a(92),a(33)),o=a(6),l=a.n(o),u=a(15),m=a(11),h=a(12),p=a(14),g=a(13),d=(a(24),a(50)),f=a(86),y=a(16),v=a(25),E=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:75,margin:0}},"Tradot"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(y.b,{to:"/signUp",className:"button",style:{margin:20}},r.a.createElement(v.a,{variant:"outline-dark"},"Sign up")),r.a.createElement(y.b,{to:"/signIn",className:"button",style:{margin:20}},r.a.createElement(v.a,{variant:"outline-dark"},"Sign in"))))}}]),a}(r.a.Component),b=a(8),w=a(19),C=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={name:"",email:"",password:"",confirmPassword:"",redirect:null,type:"Customer"},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return null!=this.state.redirect?r.a.createElement(b.a,{push:!0,to:"/"+this.state.redirect}):r.a.createElement("div",{className:"dark",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:40}},"Create an account"),r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{style:{width:500}},r.a.createElement(w.a.Control,{type:"text",placeholder:"Name",onChange:function(t){return e.setState({name:t.target.value})},style:{marginBottom:20}}),r.a.createElement(w.a.Control,{type:"text",placeholder:"Email",onChange:function(t){e.setState({email:t.target.value})},style:{marginBottom:20}}),r.a.createElement(w.a.Control,{type:"password",placeholder:"Password",onChange:function(t){e.setState({password:t.target.value}),e.setWarning(e.state.email,t.target.value,e.state.confirmPassword)},style:{marginBottom:20}}),r.a.createElement(w.a.Control,{type:"password",placeholder:"Confirm password",onChange:function(t){e.setState({confirmPassword:t.target.value}),e.setWarning(e.state.email,e.state.password,t.target.value)},style:{marginBottom:20}}),r.a.createElement(w.a.Control,{as:"select",onChange:function(t){e.setState({type:t.target.value})},style:{marginBottom:20}},r.a.createElement("option",null,"Customer"),r.a.createElement("option",null,"Merchant")))),r.a.createElement("p",{style:{height:19,color:"#c72e2e"}},this.state.warning),r.a.createElement(v.a,{variant:"outline-dark",style:{marginTop:20,marginBottom:20},onClick:function(){return e.signUp()}},"Sign up"),r.a.createElement(y.b,{to:"/signIn",className:"clear-button"},"Sign in instead"))}},{key:"setWarning",value:function(e,t,a){t.length<5?this.setState({warning:"Password must be 5 characters or longer"}):t!==a?this.setState({warning:"Passwords do not match"}):this.setState({warning:""})}},{key:"signUp",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.warning){e.next=12;break}return e.next=3,this.props.signUp(this.state.email,this.state.password,this.state.name,this.state.type);case 3:if(!e.sent){e.next=12;break}if("Customer"!==this.state.type){e.next=11;break}return e.next=8,this.setState({warning:""});case 8:this.setState({redirect:"store"}),e.next=12;break;case 11:window.location.replace("https://docs.google.com/spreadsheets/d/1OmSHVwKSGLl7FlZ8CesF-PmSvCaJcgd8Q02F6bMDoVc/edit#gid=1080396694");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),k=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={username:null,password:null,redirect:null,warning:""},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return null!=this.state.redirect?r.a.createElement(b.a,{push:!0,to:"/"+this.state.redirect}):r.a.createElement("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:40}},"Sign in"),r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{style:{width:500}},r.a.createElement(w.a.Control,{type:"text",placeholder:"Username",onChange:function(t){return e.setState({username:t.target.value})},style:{margtnTop:20,marginBottom:20}}),r.a.createElement(w.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},style:{margtnTop:20,marginBottom:20}}))),this.getWarning(),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.signIn()},style:{marginTop:20,marginBottom:20}},"Sign in"),r.a.createElement(y.b,{to:"/signUp",className:"clear-button"},"Sign up instead"))}},{key:"getWarning",value:function(){return r.a.createElement("p",{style:{height:19,color:"#c72e2e"}},this.state.warning)}},{key:"signIn",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.signIn(this.state.username,this.state.password);case 2:if(!e.sent){e.next=9;break}return e.next=6,this.setState({warning:""});case 6:this.setState({redirect:"store"}),e.next=10;break;case 9:this.setState({warning:"Incorrect username or password"});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),x=a(7),j=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={checked:!1},a}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:I.pageTitle},r.a.createElement("span",{style:{marginTop:100}},r.a.createElement("h1",{style:{textDecoration:"underline"}},"Welcome to our Coffee Shop,"," ",localStorage.getItem("name")))),r.a.createElement("div",{style:I.pageBody},this.getCategories()))}},{key:"getCategories",value:function(){var e,t=[],a=Object(c.a)(this.props.categories);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(r.a.createElement(y.b,{to:"/store/"+n,key:n,className:"basic",style:I.link},r.a.createElement(x.a,{style:I.cardBody,className:"text-center"},this.getImage(n),r.a.createElement(x.a.Body,{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(x.a.Title,null,r.a.createElement("h2",null,n[0].toUpperCase()+n.substring(1,n.length)))))))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"getImage",value:function(e){switch(e){case"Coffee":return r.a.createElement(x.a.Img,{src:a(99),style:{height:550},alt:"Card image"});case"Tea":return r.a.createElement(x.a.Img,{src:a(100),style:{height:550},alt:"Card image"});case"Sweets":return r.a.createElement(x.a.Img,{src:a(101),style:{height:550},alt:"Card image"});case"Breakfast":return r.a.createElement(x.a.Img,{src:a(41),style:{height:550},alt:"Card image"});default:return r.a.createElement(x.a.Img,{src:a(41),alt:"Card image"})}}}]),n}(r.a.Component),I={pageTitle:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",fontWeight:"bold"},pageBody:{height:"40%",width:"90%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},cardBody:{textDecoration:"none",color:"#000",width:350,height:"75vh"},link:{margin:"1em"},shoppingCartIcon:{height:"3em",width:"3em",position:"absolute",right:0,top:0,marginTop:"0.5em",marginRight:"0.5em"},swithButton:{marginTop:"0.5em",marginLeft:"0.5em"}},S=j,O=a(32),T=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={purchases:[],products:[],total:0},a}return Object(h.a)(n,[{key:"componentWillMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProducts();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProducts",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),a=JSON.stringify({text:""}),n={method:"POST",headers:t,body:a,redirect:"follow"},r=null,e.next=7,fetch("http://localhost:8000/get-all-details",n).then((function(e){return e.json()})).then((function(e){r=e})).catch((function(e){return console.log("error",e)}));case 7:this.setState({products:r}),s=["Bagel","Mocha"],this.setState({purchases:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return 0===this.state.products.length?r.a.createElement("div",{style:Object(O.a)(Object(O.a)({},B.container),{},{fontSize:30})},"Looks like you don't have any items in your cart"):r.a.createElement("div",{style:Object(O.a)(Object(O.a)({},B.container),{},{fontSize:30})},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},this.getProducts()),r.a.createElement(y.b,{to:"/store",className:"basic"},r.a.createElement(v.a,{variant:"outline-dark",style:Object(O.a)(Object(O.a)({},B.buttonStyle),{},{marginTop:20})},"Purchase")))}},{key:"getProducts",value:function(){var e,t=this,a=this.state.products,n=[],s=Object(c.a)(this.state.purchases);try{var i=function(){var s=e.value;a.forEach((function(e){e.packageIdentifiers[0].type===s&&n.push(r.a.createElement(x.a,{className:"basic",key:e.itemId.itemCode,style:B.cardBody,onClick:function(){var a=e.itemId.itemCode;t.handleShow(a)}},t.getImage(e.packageIdentifiers[0].type),r.a.createElement(x.a.Body,{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(x.a.Title,null,r.a.createElement("h2",null,e.packageIdentifiers[0].type)),r.a.createElement(x.a.Subtitle,{style:{marginTop:5}},"$",e.packageIdentifiers[0].value))))}))};for(s.s();!(e=s.n()).done;)i()}catch(o){s.e(o)}finally{s.f()}return n}},{key:"getImage",value:function(e){switch(e){case"Americano":return r.a.createElement(x.a.Img,{src:a(62),style:{height:475},alt:"Card image"});case"Cappuccino":return r.a.createElement(x.a.Img,{src:a(63),style:{height:475},alt:"Card image"});case"Mocha":return r.a.createElement(x.a.Img,{src:a(64),style:{height:475},alt:"Card image"});case"Green Tea":return r.a.createElement(x.a.Img,{src:a(65),style:{height:375},alt:"Card image"});case"Black Tea":return r.a.createElement(x.a.Img,{src:a(66),style:{height:375},alt:"Card image"});case"Jasmine Tea":return r.a.createElement(x.a.Img,{src:a(67),style:{height:375},alt:"Card image"});case"Brownie":return r.a.createElement(x.a.Img,{src:a(68),style:{height:475},alt:"Card image"});case"Cookie":return r.a.createElement(x.a.Img,{src:a(69),style:{height:475},alt:"Card image"});case"Cake Pop":return r.a.createElement(x.a.Img,{src:a(70),style:{height:475},alt:"Card image"});case"Bagel":return r.a.createElement(x.a.Img,{src:a(71),style:{height:475},alt:"Card image"});case"Muffin":return r.a.createElement(x.a.Img,{src:a(72),style:{height:475},alt:"Card image"});case"Croissant":return r.a.createElement(x.a.Img,{src:a(73),style:{height:475},alt:"Card image"});default:return r.a.createElement(x.a.Img,{src:a(41),style:{height:475},alt:"Card image"})}}}]),n}(r.a.Component),B={container:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},cardBody:{width:300,margin:"20px"},homeIcon:{height:"3em",width:"3em",position:"absolute",left:10,top:0,marginTop:"0.5em",marginRight:"0.5em"}},P=T,D=a(125),U=a(124),N=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleClose=function(){return a.setState({show:!1})},a.handleShow=function(e){return a.setState({show:!0,productKey:e})},a.handleSubmit=function(){a.setState({product:a.state.map.get(a.state.productKey)}),a.setState({show:!1})},a.state={quantity:1,category:"",product:"",products:[],productKey:-1,show:!1,map:new Map},a}return Object(h.a)(n,[{key:"componentWillMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchProducts();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.location.href,a=t.split("/")[4],n=a.charAt(0).toUpperCase()+a.slice(1),this.state.category=n;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchProducts",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),a=JSON.stringify({text:""}),n={method:"POST",headers:t,body:a,redirect:"follow"},r=null,e.next=7,fetch("http://localhost:8000/get-all-details",n).then((function(e){return e.json()})).then((function(e){r=e})).catch((function(e){return console.log("error",e)}));case 7:this.setState({products:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{style:W.pageTitle},r.a.createElement("span",null,r.a.createElement("h1",null,this.props.name[0].toUpperCase()+this.props.name.substring(1,this.props.name.length)))),r.a.createElement("div",{style:W.pageBody},this.getProducts())),r.a.createElement(D.a,{show:this.state.show,onHide:this.handleClose,style:{marginTop:"20vh"}},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Add to Cart")),r.a.createElement(D.a.Body,null,"Woohoo, you're adding"," ",this.state.map.get(this.state.productKey)," to your cart! Select quantity:",this.getQuantityButtons()),r.a.createElement(D.a.Footer,null,r.a.createElement(v.a,{variant:"secondary",onClick:this.handleClose},"Cancel"),r.a.createElement(v.a,{variant:"primary",onClick:this.handleSubmit},"Submit"))))}},{key:"delay",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(2)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProducts",value:function(){var e=this,t=this.state.products,a=[];return t.forEach((function(t){t.departmentId===e.state.category&&(e.state.map.set(t.itemId.itemCode,t.packageIdentifiers[0].type),a.push(r.a.createElement(x.a,{className:"basic",key:t.itemId.itemCode,style:W.cardBody,onClick:function(){var a=t.itemId.itemCode;e.handleShow(a)}},e.getImage(t.packageIdentifiers[0].type),r.a.createElement(x.a.Body,{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(x.a.Title,null,r.a.createElement("h2",null,t.packageIdentifiers[0].type)),r.a.createElement(x.a.Subtitle,{style:{marginTop:5}},"$",t.packageIdentifiers[0].value)))))})),a}},{key:"getImage",value:function(e){switch(e){case"Americano":return r.a.createElement(x.a.Img,{src:a(62),style:{height:475},alt:"Card image"});case"Cappuccino":return r.a.createElement(x.a.Img,{src:a(63),style:{height:475},alt:"Card image"});case"Mocha":return r.a.createElement(x.a.Img,{src:a(64),style:{height:475},alt:"Card image"});case"Green Tea":return r.a.createElement(x.a.Img,{src:a(65),style:{height:375},alt:"Card image"});case"Black Tea":return r.a.createElement(x.a.Img,{src:a(66),style:{height:375},alt:"Card image"});case"Jasmine Tea":return r.a.createElement(x.a.Img,{src:a(67),style:{height:375},alt:"Card image"});case"Brownie":return r.a.createElement(x.a.Img,{src:a(68),style:{height:475},alt:"Card image"});case"Cookie":return r.a.createElement(x.a.Img,{src:a(69),style:{height:475},alt:"Card image"});case"Cake Pop":return r.a.createElement(x.a.Img,{src:a(70),style:{height:475},alt:"Card image"});case"Bagel":return r.a.createElement(x.a.Img,{src:a(71),style:{height:475},alt:"Card image"});case"Muffin":return r.a.createElement(x.a.Img,{src:a(72),style:{height:475},alt:"Card image"});case"Croissant":return r.a.createElement(x.a.Img,{src:a(73),style:{height:475},alt:"Card image"});default:return r.a.createElement(x.a.Img,{src:a(41),style:{height:475},alt:"Card image"})}}},{key:"getQuantityButtons",value:function(){var e=this;return r.a.createElement(U.a,{style:{display:"flex",flexDirection:"row",marginTop:30}},r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.decrease()},style:{width:40}},"-"),r.a.createElement(v.a,{variant:"outline-dark",disabled:!0},this.state.quantity),r.a.createElement(v.a,{variant:"outline-dark",onClick:function(){return e.increase()},style:{width:40}},"+"))}},{key:"decrease",value:function(){this.state.quantity>1&&this.setState({quantity:this.state.quantity-1})}},{key:"increase",value:function(){this.setState({quantity:this.state.quantity+1})}}]),n}(r.a.Component),W={pageTitle:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",fontWeight:"bold",textDecoration:"underline",marginTop:"10vh"},pageBody:{height:"40%",width:"70%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",flexWrap:"wrap"},cardBody:{textDecoration:"none",color:"#000",width:350,height:"75vh",margin:"20px"}},M=N,J=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:50,margin:0}},"404"),r.a.createElement("p",{style:{fontSize:30}},"Whoops. This isn't the page you're looking for"))}}]),a}(r.a.Component),L=a(58),_=a(85),H=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={messageList:[]},n}return Object(h.a)(a,[{key:"_onMessageWasSent",value:function(e){var t=this;this.setState({messageList:[].concat(Object(L.a)(this.state.messageList),[e])});var a=new Headers;a.append("Content-Type","application/json");var n=JSON.stringify(e.data);fetch("http://localhost:8000/chatbot",{method:"POST",headers:a,body:n,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){t._sendMessage(e)})).catch((function(e){return console.log("error",e)}))}},{key:"_sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(L.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{agentProfile:{teamName:"Tradot",imageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png"},onMessageWasSent:this._onMessageWasSent.bind(this),messageList:this.state.messageList,showEmoji:!0}))}}]),a}(r.a.Component),q=(a(120),function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={categories:[],products:[],serverRoute:"/",shouldUpdate:!0},n}return Object(h.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({shouldUpdate:!1})}},{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(d.a,{bg:"dark",variant:"dark",fixed:"top"},r.a.createElement(y.b,{to:localStorage.getItem("auth")?"/store":"/"},r.a.createElement(d.a.Brand,null,"Tradot")),r.a.createElement(f.a,{className:"ml-auto"},localStorage.getItem("auth")?r.a.createElement(y.b,{to:"/cart"},r.a.createElement(d.a.Text,{className:"mr-sm-2",style:{color:"white"}},"Cart")):r.a.createElement(r.a.Fragment,null))),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/"},r.a.createElement(E,null)),r.a.createElement(b.b,{path:"/signUp"},r.a.createElement(C,{signUp:function(t,a,n,r){return e.signUp(t,a,n,r)}})),r.a.createElement(b.b,{path:"/signIn"},r.a.createElement(k,{signIn:function(t,a){return e.signIn(t,a)}})),this.getUserRoutes(),r.a.createElement(b.b,{path:"/"},r.a.createElement(J,null))))),r.a.createElement("div",{style:{display:"flex",position:"fixed",right:0,bottom:0}},localStorage.getItem("auth")?r.a.createElement(H,null):r.a.createElement(r.a.Fragment,null)))}},{key:"delay",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(2)}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCategories",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Headers).append("Content-Type","application/json"),a=JSON.stringify({text:"What do you sell?"}),n={method:"POST",headers:t,body:a,redirect:"follow"},r=[],e.next=7,fetch("http://localhost:8000/get-all-categories",n).then((function(e){return e.text()})).then((function(e){r=JSON.parse(e)})).catch((function(e){return console.log("error",e)}));case 7:this.setState({categories:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),r=JSON.stringify({email:t,password:a}),fetch("http://localhost:8000/api/auth",{method:"POST",headers:n,body:r,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("name",e.user.name),s.forceUpdate()})).catch((function(e){return console.log("error",e)})),localStorage.setItem("username",t),localStorage.setItem("password",a),this.forceUpdate(),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken(t,a);case 2:return n=e.sent,localStorage.setItem("auth",!0),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a,n,r){var s,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=new Headers).append("Content-Type","application/json"),s.append("Access-Control-Allow-Origin","*"),i=JSON.stringify({name:n,email:t,password:a,type:r}),c={method:"POST",headers:s,body:i,redirect:"follow"};try{fetch("http://localhost:8000/api/users",c).then((function(e){return e.text()})).then((function(e){return console.log(e)}))}catch(o){console.log(o)}return localStorage.setItem("name",n),localStorage.setItem("username",t),localStorage.setItem("password",a),this.forceUpdate(),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"getUserRoutes",value:function(){var e=localStorage.getItem("username");if(null!=e){var t=[];t.push(r.a.createElement(b.b,{key:"route_user",exact:!0,path:"/store"},r.a.createElement(S,{username:e,categories:this.state.categories}))),t.push(r.a.createElement(b.b,{key:"route_user_cart",path:"/cart"},r.a.createElement(P,{username:e})));var a,n=Object(c.a)(this.state.categories);try{for(n.s();!(a=n.n()).done;){var s=a.value;t.push(r.a.createElement(b.b,{key:"route_user_"+s,exact:!0,path:"/store/"+s},r.a.createElement(M,{name:s,username:e})))}}catch(i){n.e(i)}finally{n.f()}return t}}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},24:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/breakfast.c9ee2dc8.png"},62:function(e,t,a){e.exports=a.p+"static/media/americano.9d436e7b.jpg"},63:function(e,t,a){e.exports=a.p+"static/media/cappuccino.746a294c.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/mocha.c73f3a24.jpg"},65:function(e,t,a){e.exports=a.p+"static/media/greentea.aac543b8.jpg"},66:function(e,t,a){e.exports=a.p+"static/media/blacktea.cb3a21bc.jpg"},67:function(e,t,a){e.exports=a.p+"static/media/jasminetea.54ea401e.jpg"},68:function(e,t,a){e.exports=a.p+"static/media/brownie.f3e0b0b9.jpg"},69:function(e,t,a){e.exports=a.p+"static/media/cookie.23ed5409.jpg"},70:function(e,t,a){e.exports=a.p+"static/media/cakepop.87cfed2a.jpg"},71:function(e,t,a){e.exports=a.p+"static/media/bagel.397620d8.jpg"},72:function(e,t,a){e.exports=a.p+"static/media/muffin.78b1fd0f.jpg"},73:function(e,t,a){e.exports=a.p+"static/media/croissant.1bcada7a.jpg"},87:function(e,t,a){e.exports=a(121)},92:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/coffee.b8cd1566.jpg"}},[[87,1,2]]]);
//# sourceMappingURL=main.646bf2b3.chunk.js.map